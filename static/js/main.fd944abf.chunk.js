(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[0],{117:function(e,t,a){},118:function(e,t,a){e.exports={item:"Post_item__2muiw"}},119:function(e,t,a){e.exports=a.p+"static/media/penguin.20594e02.png"},120:function(e,t,a){e.exports=a.p+"static/media/preloader.81210c49.svg"},121:function(e,t,a){e.exports=a.p+"static/media/planet.1ab0b265.png"},123:function(e,t,a){e.exports=a(247)},16:function(e,t,a){e.exports={nav:"Navbar_nav__qDSm_",item:"Navbar_item__Ol8Vw",active:"Navbar_active__1ovz8"}},208:function(e,t,a){},247:function(e,t,a){"use strict";a.r(t);a(82);var n=a(7),r=a(34),s=a(4),o=a(250),i=a(113),c=a.n(i).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"1b7c72fc-c879-4275-88e5-e33388eb8130"}}),l=function(e,t){return c.get("users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},u=function(e){return c.delete("follow/".concat(e)).then((function(e){return e.data}))},m=function(e){return c.post("follow/".concat(e)).then((function(e){return e.data}))},d=function(){return c.get("auth/me").then((function(e){return e.data}))},p=function(e,t,a){return c.post("auth/login",{email:e,password:t,rememberMe:a}).then((function(e){return e.data}))},g=function(e){return c.get("profile/".concat(e))},f=function(e){return c.get("profile/status/".concat(e)).then((function(e){return e.data}))},b=function(e){return c.put("profile/status/",{status:e}).then((function(e){return e.data}))},h={posts:[{id:Object(o.a)(),message:"Hey",likesCount:"20"},{id:Object(o.a)(),message:"How are you?",likesCount:"2"}],profile:null,status:null},E=function(e){return{type:"SET_USERS_PROFILE",profile:e}},v=function(e){return{type:"SET_STATUS",status:e}},_={dialogs:[{id:Object(o.a)(),name:"Vadim"},{id:Object(o.a)(),name:"Mama"},{id:Object(o.a)(),name:"Papa"},{id:Object(o.a)(),name:"Yurii"},{id:Object(o.a)(),name:"Nik"}],messages:[{id:Object(o.a)(),message:"Hey",author:{name:"Vadim",src:"https://i.pinimg.com/originals/f4/d2/96/f4d2961b652880be432fb9580891ed62.png"}},{id:Object(o.a)(),message:"How are you?",author:{name:"Me",src:"https://volyn.tabloyid.com/upload/news/1/2019-06/155980298916/1_worlds-most-beautiful-cats-1-57fb53b6755fc__700.jpg"}},{id:Object(o.a)(),message:"Good luck",author:{name:"Vadim",src:"https://i.pinimg.com/originals/f4/d2/96/f4d2961b652880be432fb9580891ed62.png"}}]},O={friends:[{id:Object(o.a)(),name:"Vadim",src:"https://i.pinimg.com/originals/f4/d2/96/f4d2961b652880be432fb9580891ed62.png"},{id:Object(o.a)(),name:"Busya",src:"https://i.pinimg.com/originals/1c/ba/1e/1cba1e5e40356f6edb0235c8a09a07d5.jpg"},{id:Object(o.a)(),name:"Freud",src:"https://pbs.twimg.com/profile_images/1173161429266030592/lJCNA_JC_400x400.jpg"}]},j={users:[],totalCount:0,pageSize:5,currentPage:1,isFetching:!1,followingInProgress:[]},w=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},S=function(e,t){return{type:"TOGGLE_IS_FOLLOWING",userId:e,isFetching:t}},P=a(8),N={id:null,login:null,email:null,isAuth:!1},y=function(){return function(e){d().then((function(t){if(0===t.resultCode){var a=t.data,n=a.id,r=a.login,s=a.email;e(function(e,t,a){return{type:"SET_USER_AUTH_DATA",data:{id:e,login:t,email:a}}}(n,r,s))}}))}},C=a(115),I=a(251),T=Object(n.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var a={id:Object(o.a)(),message:t.newPostText,likesCount:"0"};return Object(s.a)(Object(s.a)({},e),{},{posts:[a].concat(Object(r.a)(e.posts))});case"SET_USERS_PROFILE":return Object(s.a)(Object(s.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(s.a)(Object(s.a)({},e),{},{status:t.status});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":var a={id:Object(o.a)(),message:t.newMessageText,author:{name:"Me",src:"https://volyn.tabloyid.com/upload/news/1/2019-06/155980298916/1_worlds-most-beautiful-cats-1-57fb53b6755fc__700.jpg"}};return Object(s.a)(Object(s.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[a])});default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(s.a)(Object(s.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(s.a)(Object(s.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(s.a)(Object(s.a)({},e),{},{users:t.users});case"SET_TOTAL_COUNT":return Object(s.a)(Object(s.a)({},e),{},{totalCount:t.totalCount});case"SET_CURRENT_PAGE":return Object(s.a)(Object(s.a)({},e),{},{currentPage:t.currentPage});case"TOGGLE_IS_FETCHING":return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING":return Object(s.a)(Object(s.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(r.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_AUTH_DATA":return Object(s.a)(Object(s.a)(Object(s.a)({},e),t.data),{},{isAuth:!0});default:return e}},form:I.a}),M=Object(n.e)(T,Object(n.a)(C.a));window.store=M;var k=a(0),A=a.n(k),F=a(52),x=a.n(F);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(208);var U=a(9),D=a(16),L=a.n(D),G=a(10),R=a(54),B=a.n(R);var W=Object(P.b)((function(e){return{friends:e.sidebar.friends}}))((function(e){var t=e.friends.map((function(e){return A.a.createElement("div",{className:B.a.sidebarFriend,key:e.id},A.a.createElement("img",{src:e.src,alt:"friendsPhoto"}),A.a.createElement("p",{className:B.a.friendName},e.name," "))}));return A.a.createElement("div",{className:B.a.sidebarWrapper},A.a.createElement("h3",null,"Friends"),t)}));function H(){return A.a.createElement("nav",{className:"nav"},A.a.createElement("div",{className:L.a.item},A.a.createElement(G.b,{to:"/profile",activeClassName:L.a.active},"Profile")),A.a.createElement("div",{className:L.a.item},A.a.createElement(G.b,{to:"/dialogs",activeClassName:L.a.active},"Messages")),A.a.createElement("div",{className:L.a.item},A.a.createElement(G.b,{to:"/news",activeClassName:L.a.active},"News")),A.a.createElement("div",{className:L.a.item},A.a.createElement(G.b,{to:"/music",activeClassName:L.a.active},"Music")),A.a.createElement("div",{className:L.a.item},A.a.createElement(G.b,{to:"/settings",activeClassName:L.a.active},"Settings")),A.a.createElement("div",{className:L.a.item},A.a.createElement(G.b,{to:"/users",activeClassName:L.a.active},"Users")),A.a.createElement("div",null,A.a.createElement(W,null)))}var z=a(23),J=a(24),V=a(26),Y=a(25),K=a(42),X=a.n(K),q=function(e){Object(V.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(z.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={editMode:!1,status:e.props.status||""},e.activatedEditMode=function(){e.setState({editMode:!0})},e.desActivatedEditMode=function(){e.setState({editMode:!1}),e.state.status&&e.props.updateStatus(e.state.status)},e.onStatusChange=function(t){e.setState({status:t.currentTarget.value})},e}return Object(J.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return A.a.createElement("div",null,"Status:",this.props.status?this.state.editMode?A.a.createElement("input",{autoFocus:!0,value:this.state.status,onBlur:this.desActivatedEditMode,onChange:this.onStatusChange}):A.a.createElement("span",{onDoubleClick:this.activatedEditMode}," ",this.props.status):A.a.createElement("span",null," NO STATUS"))}}]),a}(A.a.Component);function Q(e){var t=e.profile.photos.large?A.a.createElement("img",{className:X.a.userPhoto,src:e.profile.photos.large,alt:"userImage"}):A.a.createElement("img",{className:X.a.userPhoto,src:"https://www.meme-arsenal.com/memes/18fc6121a90eb592850a5722ee98a963.jpg",alt:"userImage"}),a=e.profile.aboutMe&&A.a.createElement("span",null,"\u041e\u0431\u043e \u043c\u043d\u0435: ",e.profile.aboutMe),n=e.profile.lookingForAJob?A.a.createElement("img",{src:"https://i.pinimg.com/originals/e2/02/4c/e2024c7b6af9d0b137ccc9918c36aac1.jpg",alt:"notJobImg"}):A.a.createElement("img",{src:"https://www.meme-arsenal.com/memes/8d9abed4e883de1f5b20a14386eb9d38.jpg",alt:"jobImg"});return A.a.createElement("div",null,A.a.createElement("div",{className:X.a.descriptionBlock},A.a.createElement("div",null,t),A.a.createElement("div",null,A.a.createElement("p",null,"\u0418\u043c\u044f: ",e.profile.fullName),A.a.createElement("p",null,a),"\u0412 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b: ",A.a.createElement("p",{className:X.a.statusJob},n),A.a.createElement(q,{status:e.status,updateStatus:e.updateStatus}))))}var Z=a(117),$=a.n(Z),ee=a(118),te=a.n(ee),ae=a(119),ne=a.n(ae);var re=function(e){return A.a.createElement("div",{className:te.a.item},A.a.createElement("img",{src:ne.a,alt:"postImage"}),e.message,A.a.createElement("div",null,e.likesCount," ",A.a.createElement("span",null,"\u2764")))},se=a(249),oe=a(248),ie=Object(oe.a)({form:"AddPostForm"})((function(e){var t=e.handleSubmit;return A.a.createElement("form",{onSubmit:t},A.a.createElement("div",null,A.a.createElement(se.a,{name:"newPostText",component:"textarea",placeholder:"Write your post message"})),A.a.createElement("div",null,A.a.createElement("button",{type:"submit"},"Add post"),A.a.createElement("button",null,"Remove")))}));var ce=Object(P.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:function(e){return{type:"ADD_POST",newPostText:e}}})((function(e){var t=e.posts.map((function(e){return A.a.createElement(re,{key:e.id,message:e.message,likesCount:e.likesCount})}));return A.a.createElement("div",null,"My posts",A.a.createElement("div",null,A.a.createElement(ie,{onSubmit:function(t){e.addPost(t.newPostText)}})),A.a.createElement("div",{className:$.a.posts},t))})),le=a(120),ue=a.n(le),me=function(){return A.a.createElement("div",{style:{textAlign:"center"}},A.a.createElement("img",{src:ue.a,alt:"preloader"}))},de=a(122),pe=function(e){return{isAuth:e.auth.isAuth}};function ge(e){return Object(P.b)(pe)((function(t){var a=t.isAuth,n=Object(de.a)(t,["isAuth"]);return a?A.a.createElement(e,n):A.a.createElement(U.a,{to:"/login"})}))}var fe=function(e){Object(V.a)(a,e);var t=Object(Y.a)(a);function a(){return Object(z.a)(this,a),t.apply(this,arguments)}return Object(J.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e="7253"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return this.props.profile?A.a.createElement("div",null,A.a.createElement(Q,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}),A.a.createElement(ce,null)):A.a.createElement(me,null)}}]),a}(A.a.Component),be=Object(n.d)(Object(P.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status}}),{setUserPage:E,getProfile:function(e){return function(t){g(e).then((function(e){t(E(e.data))}))}},getStatus:function(e){return function(t){f(e).then((function(e){e&&t(v(e))}))}},updateStatus:function(e){return function(t){b(e).then((function(a){0===a.resultCode&&t(v(e))}))}}}),U.f,ge)(fe),he=a(121),Ee=a.n(he),ve=a(79),_e=a.n(ve);function Oe(e){return A.a.createElement("header",{className:_e.a.header},A.a.createElement("img",{src:Ee.a,alt:"logoImage"}),A.a.createElement("div",{className:_e.a.loginBlock},e.isAuth?e.login:A.a.createElement(G.b,{to:"/login"},"Login")))}var je=function(e){Object(V.a)(a,e);var t=Object(Y.a)(a);function a(){return Object(z.a)(this,a),t.apply(this,arguments)}return Object(J.a)(a,[{key:"componentDidMount",value:function(){this.props.getAuthUserData()}},{key:"render",value:function(){return A.a.createElement(Oe,this.props)}}]),a}(A.a.Component),we=Object(P.b)((function(e){return{id:e.auth.id,login:e.auth.login,email:e.auth.email,isAuth:e.auth.isAuth}}),{getAuthUserData:y})(je),Se=a(56),Pe=a.n(Se),Ne=function(e){Math.ceil(e.totalCount/e.pageSize);for(var t=[],a=1;a<=15;a++)t.push(a);var n=e.users.map((function(t){return A.a.createElement("div",{key:t.id},A.a.createElement("div",null,A.a.createElement(G.b,{to:"profile/".concat(t.id)},A.a.createElement("img",{className:Pe.a.userPhoto,width:"200px",alt:"userPhoto",src:t.photos.small?t.photos.small:"https://i.pinimg.com/originals/8e/b0/fd/8eb0fdac7230089db2fa51f53e53397e.jpg"}))),t.followed?A.a.createElement("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)}},"Unfollow"):A.a.createElement("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)}},"Follow"),A.a.createElement("div",null,t.name),A.a.createElement("div",null,t.status),A.a.createElement("div",null,"u.location.city"),A.a.createElement("div",null,"u.location.country"))}));return A.a.createElement("div",null,A.a.createElement("div",null,t.map((function(t){return A.a.createElement("span",{className:"".concat(Pe.a.pages," ").concat(e.currentPage===t?Pe.a.currentPage:""),onClick:function(){return e.onPageChanged(t)},key:t},t)}))),e.isFetching?A.a.createElement(me,null):A.a.createElement("div",null," ",n," "))},ye=function(e){Object(V.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(z.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.setCurrentPage(t),e.props.getUsers(e.props.pageSize,t)},e}return Object(J.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.pageSize,this.props.currentPage)}},{key:"render",value:function(){return A.a.createElement(Ne,{users:this.props.users,totalCount:this.props.totalCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,follow:this.props.follow,unfollow:this.props.unfollow,onPageChanged:this.onPageChanged,isFetching:this.props.isFetching,followingInProgress:this.props.followingInProgress,toggleIsFollowing:this.props.toggleIsFollowing})}}]),a}(A.a.Component),Ce=Object(P.b)((function(e){return{users:e.usersPage.users,totalCount:e.usersPage.totalCount,pageSize:e.usersPage.pageSize,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress}}),{follow:function(e){return function(t){t(S(e,!0)),m(e).then((function(a){0===a.resultCode&&t(function(e){return{type:"FOLLOW",userId:e}}(e)),t(S(e,!1))}))}},unfollow:function(e){return function(t){t(S(e,!0)),u(e).then((function(a){0===a.resultCode&&t(function(e){return{type:"UNFOLLOW",userId:e}}(e)),t(S(e,!1))}))}},setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},toggleIsFollowing:S,getUsers:function(e,t){return function(a){a(w(!0)),l(e,t).then((function(e){a(w(!1)),a({type:"SET_USERS",users:e.items}),a({type:"SET_TOTAL_COUNT",totalCount:e.totalCount})}))}}})(ye),Ie=a(43),Te=a.n(Ie),Me=a(80),ke=a.n(Me);function Ae(e){return A.a.createElement("div",{className:ke.a.dialog},A.a.createElement(G.b,{to:"/dialogs/"+e.id,activeClassName:ke.a.active},e.name))}var Fe=a(35),xe=a.n(Fe);function Ue(e){return A.a.createElement("div",{className:xe.a.wrapperMessage},A.a.createElement("img",{src:e.author.src,className:xe.a.avatar,alt:"authorImage"}),A.a.createElement("div",{className:xe.a.message},A.a.createElement("div",{className:xe.a.author},e.author.name),A.a.createElement("div",null,A.a.createElement("span",{className:xe.a.messageText},e.message))))}var De=Object(oe.a)({form:"AddMessageForm"})((function(e){var t=e.handleSubmit;return A.a.createElement("form",{onSubmit:t},A.a.createElement("div",null,A.a.createElement(se.a,{name:"newMessageBody",component:"textarea",placeholder:"Write your message"})),A.a.createElement("div",null,A.a.createElement("button",{type:"submit"},"Send")))}));var Le=Object(n.d)(Object(P.b)((function(e){return{dialogs:e.dialogsPage.dialogs,messages:e.dialogsPage.messages}}),{addMessage:function(e){return{type:"SEND_MESSAGE",newMessageText:e}}}),ge)((function(e){var t=e.dialogs.map((function(e){return A.a.createElement(Ae,{key:e.id,id:e.id,name:e.name})})),a=e.messages.map((function(e){return A.a.createElement(Ue,{key:e.id,id:e.id,message:e.message,author:e.author})}));return A.a.createElement("div",{className:Te.a.dialogs},A.a.createElement("div",{className:Te.a.dialogsItems},t),A.a.createElement("div",{className:Te.a.messages},A.a.createElement("div",null,a),A.a.createElement("div",{className:Te.a.sendingMessage},A.a.createElement(De,{onSubmit:function(t){e.addMessage(t.newMessageBody)}}))))})),Ge=Object(oe.a)({form:"Login"})((function(e){var t=e.handleSubmit;return A.a.createElement("form",{onSubmit:t},A.a.createElement("div",null,A.a.createElement(se.a,{name:"login",component:"input",type:"text",placeholder:"login"})),A.a.createElement("div",null,A.a.createElement(se.a,{name:"password",component:"input",type:"text",placeholder:"password"})),A.a.createElement("div",null,A.a.createElement(se.a,{name:"rememberMe",component:"input",type:"checkbox"}),"Remember me"),A.a.createElement("div",null,A.a.createElement("button",{type:"submit"},"Submit")))})),Re=function(){var e=Object(P.c)();return A.a.createElement(A.a.Fragment,null,A.a.createElement("h1",null,"Login"),A.a.createElement(Ge,{onSubmit:function(t){var a=t.login,n=t.password,r=t.rememberMe;e(function(e,t,a){return function(n){p(e,t,a).then((function(e){0===e.resultCode&&n(y())}))}}(a,n,r))}}))};function Be(){return A.a.createElement("div",{className:"app-wrapper"},A.a.createElement(we,null),A.a.createElement(H,null),A.a.createElement("div",{className:"app-wrapper-content"},A.a.createElement(U.b,{path:"/profile/:userId?",render:function(){return A.a.createElement(be,null)}}),A.a.createElement(U.b,{path:"/dialogs",render:function(){return A.a.createElement(Le,null)}}),A.a.createElement(U.b,{path:"/users",render:function(){return A.a.createElement(Ce,null)}}),A.a.createElement(U.b,{path:"/login",render:function(){return A.a.createElement(Re,null)}})))}x.a.render(A.a.createElement(G.a,null,A.a.createElement(P.a,{store:M},A.a.createElement(Be,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},35:function(e,t,a){e.exports={wrapperMessage:"Message_wrapperMessage__2PR9y",message:"Message_message__1xARY",avatar:"Message_avatar__2YUgg",author:"Message_author__27nww",messageText:"Message_messageText__35SWP"}},42:function(e,t,a){e.exports={cover:"ProfileInfo_cover__1xOCn",descriptionBlock:"ProfileInfo_descriptionBlock__bFes7",userPhoto:"ProfileInfo_userPhoto__GLNwp",statusJob:"ProfileInfo_statusJob__3xCCN"}},43:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__3r3JM",dialogsItems:"Dialogs_dialogsItems__3TVHB",messages:"Dialogs_messages__IgtER",dialog:"Dialogs_dialog__1igoW",active:"Dialogs_active__1GCOK",sendingMessage:"Dialogs_sendingMessage__ZrzXj"}},54:function(e,t,a){e.exports={sidebarWrapper:"Sidebar_sidebarWrapper__2ASsN",sidebarFriend:"Sidebar_sidebarFriend__UFX9C",friendName:"Sidebar_friendName__6VNDb"}},56:function(e,t,a){e.exports={currentPage:"Users_currentPage__1vt-F",pages:"Users_pages__1BN_F",userPhoto:"Users_userPhoto__2mxbf"}},79:function(e,t,a){e.exports={header:"Header_header__1EQNb",loginBlock:"Header_loginBlock__1u_pe"}},80:function(e,t,a){e.exports={dialog:"DialogItem_dialog__Bw4WD",active:"DialogItem_active__3BwCn"}},82:function(e,t,a){}},[[123,1,2]]]);
//# sourceMappingURL=main.fd944abf.chunk.js.map